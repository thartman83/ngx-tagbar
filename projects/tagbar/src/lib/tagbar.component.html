<div class="tagbar--main">
  <span class="tagbar--parent" (click)="newtag.focus()" (focus)="newtag.focus()">
    <span class="tagbar--input-group">
      <ul class="tagbar--tag-list">
        <div class="tagbar--tag-selected" *ngFor="let tag of tags">
          <li class="tagbar--tag-selected-text" >{{tag}}</li>
          <span class="tagbar--tag-selected-remove-tag">
	          <button type="button" class="tagbar--tag-selected-remove-tag-btn"
                    (click)="removeTag(tag)">X</button>
          </span>
        </div>

      </ul>
      <input #newtag class="tagbar--input" name="tagSearch" type="text"
	           [(ngModel)]="inputTag"
	           (keydown)="onKeyDown($event, newtag.value)"
             (keyup)="onKeyUp($event, newtag.value)"
             (blur)="onBlur(newtag.value)"
	           (focus)="onFocus(newtag.value)"
             autocorrect="off" autocomplete="off" />
    </span>
  </span>
  <ng-container *ngIf="isSearching">
    <div [ngClass]="{'tagbar--search': true, 'tagbar--search-pending': dataPending}">
      <div class="tagbar--search-loader"></div>
      <div class="tagbar--search-results">
        <ul class="tagbar--search-list" role="listbox">
          <li [class.tagbar--search-list-empty]="_searchTags === undefined || _searchTags.length === 0">
          </li>
          <ngx-list-item *ngFor="let searchTag of _searchTags; let i = index"
                     [tagValue]="searchTag"
                     [index]="i"
                     (select)="addTagByIndex(i)">
          </ngx-list-item>
        </ul>
      </div>
    </div>
  </ng-container>
</div>
